{"ast":null,"code":"var _jsxFileName = \"/Users/mcarniglia/Projects/Miei/login/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst alphabet = \"abcdefghijklmnopqrstuvwxyz\".split(\"\");\n\nfunction App() {\n  _s();\n\n  const [step, setStep] = useState(0);\n  const [username, setUsername] = useState(\"\");\n  const [rules, setRules] = useState({\n    min: null,\n    max: null,\n    included: null,\n    excluded: null\n  });\n\n  function calcUsername() {\n    var _rules$max, _rules$min, _rules$min2;\n\n    console.log(\"entro\");\n    const length = Math.floor(Math.random() * (((_rules$max = rules.max) !== null && _rules$max !== void 0 ? _rules$max : 20) - ((_rules$min = rules.min) !== null && _rules$min !== void 0 ? _rules$min : 0))) + ((_rules$min2 = rules.min) !== null && _rules$min2 !== void 0 ? _rules$min2 : 0);\n    const result = [];\n\n    for (let i = 0; i < length; i++) {\n      let rand = -1;\n\n      while (rand === -1 || rand === rules.excluded) {\n        rand = Math.floor(Math.random() * alphabet.length);\n      }\n\n      result.push(alphabet[rand]);\n    }\n\n    if (rules.included && !result.includes(alphabet[rules.included])) {\n      result.pop();\n      result.push(alphabet[rules.included]);\n    }\n\n    setUsername(result.join(\"\"));\n  }\n\n  function handleYes() {\n    steps[step].handlerYes(steps[step].value);\n    setStep(step + 1);\n  }\n\n  function handleIdk() {\n    setStep(step + 1);\n  }\n\n  function handleNo() {\n    steps[step].handlerNo(steps[step].value);\n    setStep(step + 1);\n  }\n\n  useEffect(() => {\n    if (step === 3 && !username) {\n      calcUsername();\n    }\n  });\n  const [steps, setSteps] = useState([{\n    value: Math.floor(Math.random() * 16) + 4,\n\n    get question() {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Does your username contain more than \", this.value, \" characters?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 16\n      }, this);\n    },\n\n    handlerYes(val) {\n      setRules(rules => {\n        rules.min = val;\n        return rules;\n      });\n      setSteps(steps => {\n        steps[1].value = Math.floor(Math.random() * (20 - val)) + val;\n        return steps;\n      });\n    },\n\n    handlerNo(val) {\n      setRules(rules => {\n        rules.max = val;\n        return rules;\n      });\n      setSteps(steps => {\n        steps[1].value = Math.floor(Math.random() * val);\n        return steps;\n      });\n    }\n\n  }, {\n    value: 0,\n\n    get question() {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Does your username contain less than \", this.value, \" characters?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 16\n      }, this);\n    },\n\n    handlerYes(val) {\n      setRules(rules => {\n        rules.max = val;\n        return rules;\n      });\n    },\n\n    handlerNo(val) {\n      setRules(rules => {\n        rules.min = val;\n        return rules;\n      });\n    }\n\n  }, {\n    value: Math.floor(Math.random() * 26),\n\n    get question() {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Does your username contain the \", alphabet[this.value], \" character?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 16\n      }, this);\n    },\n\n    handlerYes(val) {\n      setRules(rules => {\n        rules.excluded = val;\n        return rules;\n      });\n    },\n\n    handlerNo(val) {\n      setRules(rules => {\n        rules.included = val;\n        return rules;\n      });\n    }\n\n  }]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App bg-gray-50 p-20 h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container m-auto flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg p-6 w-full bg-gray-200\",\n        children: step < steps.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold text-md\",\n            children: [\"Guessing your username (\", step + 1, \"/\", steps.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 19\n          }, this), steps[step].question, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleYes,\n              className: \"rounded-md w-full my-2 p-2 bg-green-700 text-white\",\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleIdk,\n              className: \"rounded-md w-full my-2 p-2 bg-yellow-600 text-white\",\n              children: \"I don't know\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNo,\n              className: \"rounded-md w-full my-2 p-2 bg-red-700 text-white\",\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold text-md\",\n            children: \"Your username is...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-xl\",\n            children: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Is it right?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rounded-md w-full my-2 p-2 bg-green-700 text-white\",\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.href = \"\",\n            className: \"rounded-md w-full my-2 p-2 bg-red-700 text-white\",\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg p-6 w-full bg-gray-200 ml-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-md\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          id: \"fakeForm\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-semibold block text-left\",\n            htmlFor: \"username\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-lg bg-gray-50 p-1 mb-2\",\n            id: \"username\",\n            type: \"text\",\n            value: username,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-semibold block text-left\",\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-lg bg-gray-50 p-1 mb-6\",\n            id: \"password\",\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rounded rounded-lg bg-blue-400 text-white w-full p-2\",\n            children: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"yPTcugy87Yp20c+tUL/F5MD+wyk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/mcarniglia/Projects/Miei/login/src/App.tsx"],"names":["useEffect","useState","alphabet","split","App","step","setStep","username","setUsername","rules","setRules","min","max","included","excluded","calcUsername","console","log","length","Math","floor","random","result","i","rand","push","includes","pop","join","handleYes","steps","handlerYes","value","handleIdk","handleNo","handlerNo","setSteps","question","val","window","location","href"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAAuBC,QAAvB,QAAuC,OAAvC;AACA,OAAO,WAAP;;AAgBA,MAAMC,QAAuB,GAAG,6BAA6BC,KAA7B,CAAmC,EAAnC,CAAhC;;AAEA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC;AACjCU,IAAAA,GAAG,EAAE,IAD4B;AAEjCC,IAAAA,GAAG,EAAE,IAF4B;AAGjCC,IAAAA,QAAQ,EAAE,IAHuB;AAIjCC,IAAAA,QAAQ,EAAE;AAJuB,GAAD,CAAlC;;AAOA,WAASC,YAAT,GAAwB;AAAA;;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,UAAMC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiB,eAACZ,KAAK,CAACG,GAAP,mDAAc,EAAd,mBAAqBH,KAAK,CAACE,GAA3B,mDAAkC,CAAlC,CAAjB,CAAX,oBAAsEF,KAAK,CAACE,GAA5E,qDAAmF,CAAnF,CAAf;AACA,UAAMW,MAAM,GAAG,EAAf;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,MAApB,EAA4BK,CAAC,EAA7B,EAAiC;AAC/B,UAAIC,IAAI,GAAG,CAAC,CAAZ;;AACA,aAAOA,IAAI,KAAK,CAAC,CAAV,IAAeA,IAAI,KAAKf,KAAK,CAACK,QAArC,EAA8C;AAC5CU,QAAAA,IAAI,GAAGL,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBnB,QAAQ,CAACgB,MAApC,CAAP;AACD;;AACDI,MAAAA,MAAM,CAACG,IAAP,CAAYvB,QAAQ,CAACsB,IAAD,CAApB;AACD;;AACD,QAAIf,KAAK,CAACI,QAAN,IAAkB,CAACS,MAAM,CAACI,QAAP,CAAgBxB,QAAQ,CAACO,KAAK,CAACI,QAAP,CAAxB,CAAvB,EAAiE;AAC/DS,MAAAA,MAAM,CAACK,GAAP;AACAL,MAAAA,MAAM,CAACG,IAAP,CAAYvB,QAAQ,CAACO,KAAK,CAACI,QAAP,CAApB;AACD;;AACDL,IAAAA,WAAW,CAACc,MAAM,CAACM,IAAP,CAAY,EAAZ,CAAD,CAAX;AACD;;AAED,WAASC,SAAT,GAA2B;AACzBC,IAAAA,KAAK,CAACzB,IAAD,CAAL,CAAY0B,UAAZ,CAAuBD,KAAK,CAACzB,IAAD,CAAL,CAAY2B,KAAnC;AACA1B,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;;AACD,WAAS4B,SAAT,GAA0B;AACxB3B,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;;AACD,WAAS6B,QAAT,GAA0B;AACxBJ,IAAAA,KAAK,CAACzB,IAAD,CAAL,CAAY8B,SAAZ,CAAsBL,KAAK,CAACzB,IAAD,CAAL,CAAY2B,KAAlC;AACA1B,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD;;AAEDL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIK,IAAI,KAAK,CAAT,IAAc,CAACE,QAAnB,EAA6B;AAC3BQ,MAAAA,YAAY;AACb;AACF,GAJQ,CAAT;AAMA,QAAM,CAACe,KAAD,EAAQM,QAAR,IAAoBnC,QAAQ,CAAC,CACjC;AACE+B,IAAAA,KAAK,EAAEb,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,IAAiC,CAD1C;;AAEE,QAAIgB,QAAJ,GAAe;AACb,0BAAO;AAAA,4DAAyC,KAAKL,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAJH;;AAKED,IAAAA,UAAU,CAACO,GAAD,EAAc;AACtB5B,MAAAA,QAAQ,CAAED,KAAD,IAAkB;AACzBA,QAAAA,KAAK,CAACE,GAAN,GAAY2B,GAAZ;AACA,eAAO7B,KAAP;AACD,OAHO,CAAR;AAIA2B,MAAAA,QAAQ,CAAEN,KAAD,IAAwB;AAC/BA,QAAAA,KAAK,CAAC,CAAD,CAAL,CAASE,KAAT,GAAiBb,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiB,KAAKiB,GAAtB,CAAX,IAAyCA,GAA1D;AACA,eAAOR,KAAP;AACD,OAHO,CAAR;AAID,KAdH;;AAeEK,IAAAA,SAAS,CAACG,GAAD,EAAoB;AAC3B5B,MAAAA,QAAQ,CAAED,KAAD,IAAkB;AACzBA,QAAAA,KAAK,CAACG,GAAN,GAAY0B,GAAZ;AACA,eAAO7B,KAAP;AACD,OAHO,CAAR;AAIA2B,MAAAA,QAAQ,CAAEN,KAAD,IAAwB;AAC/BA,QAAAA,KAAK,CAAC,CAAD,CAAL,CAASE,KAAT,GAAiBb,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAiBiB,GAA5B,CAAjB;AACA,eAAOR,KAAP;AACD,OAHO,CAAR;AAID;;AAxBH,GADiC,EA2BjC;AACEE,IAAAA,KAAK,EAAE,CADT;;AAEE,QAAIK,QAAJ,GAAe;AACb,0BAAO;AAAA,4DAAyC,KAAKL,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAJH;;AAKED,IAAAA,UAAU,CAACO,GAAD,EAAoB;AAC5B5B,MAAAA,QAAQ,CAAED,KAAD,IAAkB;AACzBA,QAAAA,KAAK,CAACG,GAAN,GAAY0B,GAAZ;AACA,eAAO7B,KAAP;AACD,OAHO,CAAR;AAID,KAVH;;AAWE0B,IAAAA,SAAS,CAACG,GAAD,EAAoB;AAC3B5B,MAAAA,QAAQ,CAAED,KAAD,IAAkB;AACzBA,QAAAA,KAAK,CAACE,GAAN,GAAY2B,GAAZ;AACA,eAAO7B,KAAP;AACD,OAHO,CAAR;AAID;;AAhBH,GA3BiC,EA6CjC;AACEuB,IAAAA,KAAK,EAAEb,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CADT;;AAEE,QAAIgB,QAAJ,GAAe;AACb,0BAAO;AAAA,sDAAmCnC,QAAQ,CAAC,KAAK8B,KAAN,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAJH;;AAKED,IAAAA,UAAU,CAACO,GAAD,EAAoB;AAC5B5B,MAAAA,QAAQ,CAAED,KAAD,IAAkB;AACzBA,QAAAA,KAAK,CAACK,QAAN,GAAiBwB,GAAjB;AACA,eAAO7B,KAAP;AACD,OAHO,CAAR;AAID,KAVH;;AAWE0B,IAAAA,SAAS,CAACG,GAAD,EAAoB;AAC3B5B,MAAAA,QAAQ,CAAED,KAAD,IAAkB;AACzBA,QAAAA,KAAK,CAACI,QAAN,GAAiByB,GAAjB;AACA,eAAO7B,KAAP;AACD,OAHO,CAAR;AAID;;AAhBH,GA7CiC,CAAD,CAAlC;AAiEA,sBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,mCAAf;AAAA,kBACIJ,IAAI,GAAGyB,KAAK,CAACZ,MAAb,gBACE;AAAA,kCACE;AAAI,YAAA,SAAS,EAAC,mBAAd;AAAA,mDAA2Db,IAAI,GAAG,CAAlE,OAAsEyB,KAAK,CAACZ,MAA5E;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEGY,KAAK,CAACzB,IAAD,CAAL,CAAYgC,QAFf,eAGE;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,oCACE;AAAQ,cAAA,OAAO,EAAER,SAAjB;AAA4B,cAAA,SAAS,EAAC,oDAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAQ,cAAA,OAAO,EAAEI,SAAjB;AAA4B,cAAA,SAAS,EAAC,qDAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAQ,cAAA,OAAO,EAAEC,QAAjB;AAA2B,cAAA,SAAS,EAAC,kDAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,gBAUE;AAAA,kCACE;AAAI,YAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAG,YAAA,SAAS,EAAC,uBAAb;AAAA,sBAAsC3B;AAAtC;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAQ,YAAA,SAAS,EAAC,oDAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAQ,YAAA,OAAO,EAAE,MAAMgC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,EAA9C;AAAkD,YAAA,SAAS,EAAC,kDAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAXN;AAAA;AAAA;AAAA;AAAA,cADJ,eAqBI;AAAK,QAAA,SAAS,EAAC,wCAAf;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,UAAA,EAAE,EAAC,UAAT;AAAA,kCACE;AAAO,YAAA,SAAS,EAAC,+BAAjB;AAAiD,YAAA,OAAO,EAAC,UAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAO,YAAA,SAAS,EAAC,uCAAjB;AAAyD,YAAA,EAAE,EAAC,UAA5D;AAAuE,YAAA,IAAI,EAAC,MAA5E;AAAmF,YAAA,KAAK,EAAElC,QAA1F;AAAoG,YAAA,QAAQ,EAAE;AAA9G;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAO,YAAA,SAAS,EAAC,+BAAjB;AAAiD,YAAA,OAAO,EAAC,UAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAO,YAAA,SAAS,EAAC,uCAAjB;AAAyD,YAAA,EAAE,EAAC,UAA5D;AAAuE,YAAA,IAAI,EAAC;AAA5E;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE;AAAQ,YAAA,SAAS,EAAC,sDAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cArBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAoCD;;GAnJQH,G;;KAAAA,G;AAqJT,eAAeA,GAAf","sourcesContent":["import { useEffect } from 'react';\nimport { ReactElement, useState } from 'react';\nimport './App.css';\n\ninterface Rules {\n  min: number | null,\n  max: number | null,\n  included: number | null\n  excluded: number | null\n}\n\ninterface Step {\n  value: number,\n  question: ReactElement,\n  handlerYes: (val: any) => void,\n  handlerNo: (val: any) => void,\n}\n\nconst alphabet: Array<string> = \"abcdefghijklmnopqrstuvwxyz\".split(\"\")\n\nfunction App() {\n  const [step, setStep] = useState(0)\n  const [username, setUsername] = useState(\"\")\n  const [rules, setRules] = useState({\n    min: null,\n    max: null,\n    included: null,\n    excluded: null\n  } as Rules)\n  \n  function calcUsername() {\n    console.log(\"entro\")\n    const length = Math.floor(Math.random() * ((rules.max ?? 20) - (rules.min ?? 0))) + (rules.min ?? 0)\n    const result = []\n    for (let i = 0; i < length; i++) {\n      let rand = -1\n      while (rand === -1 || rand === rules.excluded){\n        rand = Math.floor(Math.random() * alphabet.length)\n      }\n      result.push(alphabet[rand])\n    }\n    if (rules.included && !result.includes(alphabet[rules.included])){\n      result.pop()\n      result.push(alphabet[rules.included])\n    }\n    setUsername(result.join(\"\"))\n  }\n\n  function handleYes (): any {\n    steps[step].handlerYes(steps[step].value)\n    setStep(step + 1)\n  }\n  function handleIdk(): any {\n    setStep(step + 1)\n  }\n  function handleNo (): any {\n    steps[step].handlerNo(steps[step].value)\n    setStep(step + 1)\n  }\n\n  useEffect(() => {\n    if (step === 3 && !username) {\n      calcUsername()\n    }\n  })\n\n  const [steps, setSteps] = useState([\n    {\n      value: Math.floor(Math.random() * 16) + 4,\n      get question() {\n        return <p>Does your username contain more than {this.value} characters?</p>\n      },\n      handlerYes(val: number) {\n        setRules((rules: Rules) => {\n          rules.min = val\n          return rules\n        })\n        setSteps((steps: Array<Step>) => {\n          steps[1].value = Math.floor(Math.random() * (20 - val)) + val\n          return steps\n        })\n      },\n      handlerNo(val: number): void {\n        setRules((rules: Rules) => {\n          rules.max = val\n          return rules\n        })\n        setSteps((steps: Array<Step>) => {\n          steps[1].value = Math.floor(Math.random() * (val))\n          return steps\n        })\n      }\n    },\n    {\n      value: 0,\n      get question() {\n        return <p>Does your username contain less than {this.value} characters?</p>\n      },\n      handlerYes(val: number): void {\n        setRules((rules: Rules) => {\n          rules.max = val\n          return rules\n        })\n      },\n      handlerNo(val: number): void {\n        setRules((rules: Rules) => {\n          rules.min = val\n          return rules\n        })\n      }\n    },\n    {\n      value: Math.floor(Math.random() * 26),\n      get question() {\n        return <p>Does your username contain the {alphabet[this.value]} character?</p>\n      },\n      handlerYes(val: number): void {\n        setRules((rules: Rules) => {\n          rules.excluded = val\n          return rules\n        })\n      },\n      handlerNo(val: number): void {\n        setRules((rules: Rules) => {\n          rules.included = val\n          return rules\n        })\n      }\n    },\n  ]);\n\n  return (\n    <div className=\"App bg-gray-50 p-20 h-screen\">\n      <div className=\"container m-auto flex flex-row\">\n          <div className=\"rounded-lg p-6 w-full bg-gray-200\">\n            { step < steps.length ?\n                <div>\n                  <h3 className=\"font-bold text-md\">Guessing your username ({step + 1}/{steps.length})</h3>\n                  {steps[step].question}\n                  <div className=\"flex flex-col\">\n                    <button onClick={handleYes} className=\"rounded-md w-full my-2 p-2 bg-green-700 text-white\">Yes</button>\n                    <button onClick={handleIdk} className=\"rounded-md w-full my-2 p-2 bg-yellow-600 text-white\">I don't know</button>\n                    <button onClick={handleNo} className=\"rounded-md w-full my-2 p-2 bg-red-700 text-white\">No</button>\n                  </div>\n                </div> :\n                <div>\n                  <h3 className=\"font-bold text-md\">Your username is...</h3>\n                  <p className=\"font-semibold text-xl\">{username}</p>\n                  <p>Is it right?</p>\n                  <button className=\"rounded-md w-full my-2 p-2 bg-green-700 text-white\">Yes</button>\n                  <button onClick={() => window.location.href = \"\"} className=\"rounded-md w-full my-2 p-2 bg-red-700 text-white\">No</button>\n                </div>\n            }\n          </div>\n          <div className=\"rounded-lg p-6 w-full bg-gray-200 ml-3\">\n            <h3 className=\"font-bold text-md\">Log in</h3>\n            <form id=\"fakeForm\">\n              <label className=\"text-semibold block text-left\" htmlFor=\"username\">Username</label>\n              <input className=\"w-full rounded-lg bg-gray-50 p-1 mb-2\" id=\"username\" type=\"text\" value={username} readOnly={true}></input>\n              <label className=\"text-semibold block text-left\" htmlFor=\"password\">Password</label>\n              <input className=\"w-full rounded-lg bg-gray-50 p-1 mb-6\" id=\"password\" type=\"password\"></input>\n              <button className=\"rounded rounded-lg bg-blue-400 text-white w-full p-2\">Log in</button>\n            </form>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}