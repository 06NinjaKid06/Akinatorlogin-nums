{"ast":null,"code":"import _slicedToArray from\"/Users/mcarniglia/Projects/Miei/login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect}from'react';import{useState}from'react';import'./App.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var alphabet=\"abcdefghijklmnopqrstuvwxyz\".split(\"\");function App(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),step=_useState2[0],setStep=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState({min:null,max:null,included:null,excluded:null}),_useState6=_slicedToArray(_useState5,2),rules=_useState6[0],setRules=_useState6[1];function calcUsername(){var _rules$max,_rules$min,_rules$min2;var length=Math.floor(Math.random()*(((_rules$max=rules.max)!==null&&_rules$max!==void 0?_rules$max:20)-((_rules$min=rules.min)!==null&&_rules$min!==void 0?_rules$min:0)))+((_rules$min2=rules.min)!==null&&_rules$min2!==void 0?_rules$min2:0);var result=[];for(var i=0;i<length;i++){var rand=-1;while(rand===-1||rand===rules.excluded){rand=Math.floor(Math.random()*alphabet.length);}result.push(alphabet[rand]);}if(rules.included&&!result.includes(alphabet[rules.included])){result.pop();result.push(alphabet[rules.included]);}setUsername(result.join(\"\"));}function handleYes(){steps[step].handlerYes(steps[step].value);setStep(step+1);}function handleIdk(){setStep(step+1);}function handleNo(){steps[step].handlerNo(steps[step].value);setStep(step+1);}useEffect(function(){if(step===3&&!username){calcUsername();}});var _useState7=useState([{value:Math.floor(Math.random()*16)+4,get question(){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Does your username contain more than \",this.value,\" characters?\"]});},handlerYes:function handlerYes(val){setRules(function(rules){rules.min=val;return rules;});setSteps(function(steps){steps[1].value=Math.floor(Math.random()*(20-val))+val;return steps;});},handlerNo:function handlerNo(val){setRules(function(rules){rules.max=val;return rules;});setSteps(function(steps){steps[1].value=Math.floor(Math.random()*val);return steps;});}},{value:0,get question(){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Does your username contain less than \",this.value,\" characters?\"]});},handlerYes:function handlerYes(val){setRules(function(rules){rules.max=val;return rules;});},handlerNo:function handlerNo(val){setRules(function(rules){rules.min=val;return rules;});}},{value:Math.floor(Math.random()*26),get question(){return/*#__PURE__*/_jsxs(\"p\",{children:[\"Does your username contain the \",/*#__PURE__*/_jsx(\"em\",{children:alphabet[this.value]}),\" character?\"]});},handlerYes:function handlerYes(val){setRules(function(rules){rules.included=val;return rules;});},handlerNo:function handlerNo(val){setRules(function(rules){rules.excluded=val;return rules;});}}]),_useState8=_slicedToArray(_useState7,2),steps=_useState8[0],setSteps=_useState8[1];return/*#__PURE__*/_jsx(\"div\",{className:\"App bg-gray-50 p-20 h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto flex flex-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-lg p-6 w-full bg-gray-200\",children:step<steps.length?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-md\",children:[\"Guessing your username (\",step+1,\"/\",steps.length,\")\"]}),steps[step].question,/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleYes,className:\"rounded-md w-full my-2 p-2 bg-green-700 text-white\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleIdk,className:\"rounded-md w-full my-2 p-2 bg-yellow-600 text-white\",children:\"I don't know\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNo,className:\"rounded-md w-full my-2 p-2 bg-red-700 text-white\",children:\"No\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-md\",children:\"Your username is...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-xl\",children:username}),/*#__PURE__*/_jsx(\"p\",{children:\"Is it right?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded-md w-full my-2 p-2 bg-green-700 text-white\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return window.location.href=\"\";},className:\"rounded-md w-full my-2 p-2 bg-red-700 text-white\",children:\"No\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg p-6 w-full bg-gray-200 ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-md\",children:\"Log in\"}),/*#__PURE__*/_jsxs(\"form\",{id:\"fakeForm\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-semibold block text-left\",htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full rounded-lg bg-gray-50 p-1 mb-2\",id:\"username\",type:\"text\",value:username,readOnly:true}),/*#__PURE__*/_jsx(\"label\",{className:\"text-semibold block text-left\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\"w-full rounded-lg bg-gray-50 p-1 mb-6\",id:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded rounded-lg bg-blue-400 text-white w-full p-2\",children:\"Log in\"})]})]})]})});}export default App;","map":{"version":3,"sources":["/Users/mcarniglia/Projects/Miei/login/src/App.tsx"],"names":["useEffect","useState","alphabet","split","App","step","setStep","username","setUsername","min","max","included","excluded","rules","setRules","calcUsername","length","Math","floor","random","result","i","rand","push","includes","pop","join","handleYes","steps","handlerYes","value","handleIdk","handleNo","handlerNo","question","val","setSteps","window","location","href"],"mappings":"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","sourcesContent":["import { useEffect } from 'react';\nimport { ReactElement, useState } from 'react';\nimport './App.css';\n\ninterface Rules {\n  min: number | null,\n  max: number | null,\n  included: number | null\n  excluded: number | null\n}\n\ninterface Step {\n  value: number,\n  question: ReactElement,\n  handlerYes: (val: any) => void,\n  handlerNo: (val: any) => void,\n}\n\nconst alphabet: Array<string> = \"abcdefghijklmnopqrstuvwxyz\".split(\"\")\n\nfunction App() {\n  const [step, setStep] = useState(0)\n  const [username, setUsername] = useState(\"\")\n  const [rules, setRules] = useState({\n    min: null,\n    max: null,\n    included: null,\n    excluded: null\n  } as Rules)\n  \n  function calcUsername() {\n    const length = Math.floor(Math.random() * ((rules.max ?? 20) - (rules.min ?? 0))) + (rules.min ?? 0)\n    const result = []\n    for (let i = 0; i < length; i++) {\n      let rand = -1\n      while (rand === -1 || rand === rules.excluded){\n        rand = Math.floor(Math.random() * alphabet.length)\n      }\n      result.push(alphabet[rand])\n    }\n    if (rules.included && !result.includes(alphabet[rules.included])){\n      result.pop()\n      result.push(alphabet[rules.included])\n    }\n    setUsername(result.join(\"\"))\n  }\n\n  function handleYes (): any {\n    steps[step].handlerYes(steps[step].value)\n    setStep(step + 1)\n  }\n  function handleIdk(): any {\n    setStep(step + 1)\n  }\n  function handleNo (): any {\n    steps[step].handlerNo(steps[step].value)\n    setStep(step + 1)\n  }\n\n  useEffect(() => {\n    if (step === 3 && !username) {\n      calcUsername()\n    }\n  })\n\n  const [steps, setSteps] = useState([\n    {\n      value: Math.floor(Math.random() * 16) + 4,\n      get question() {\n        return <p>Does your username contain more than {this.value} characters?</p>\n      },\n      handlerYes(val: number) {\n        setRules((rules: Rules) => {\n          rules.min = val\n          return rules\n        })\n        setSteps((steps: Array<Step>) => {\n          steps[1].value = Math.floor(Math.random() * (20 - val)) + val\n          return steps\n        })\n      },\n      handlerNo(val: number): void {\n        setRules((rules: Rules) => {\n          rules.max = val\n          return rules\n        })\n        setSteps((steps: Array<Step>) => {\n          steps[1].value = Math.floor(Math.random() * (val))\n          return steps\n        })\n      }\n    },\n    {\n      value: 0,\n      get question() {\n        return <p>Does your username contain less than {this.value} characters?</p>\n      },\n      handlerYes(val: number): void {\n        setRules((rules: Rules) => {\n          rules.max = val\n          return rules\n        })\n      },\n      handlerNo(val: number): void {\n        setRules((rules: Rules) => {\n          rules.min = val\n          return rules\n        })\n      }\n    },\n    {\n      value: Math.floor(Math.random() * 26),\n      get question() {\n        return <p>Does your username contain the <em>{alphabet[this.value]}</em> character?</p>\n      },\n      handlerYes(val: number): void {\n        setRules((rules: Rules) => {\n          rules.included = val\n          return rules\n        })\n      },\n      handlerNo(val: number): void {\n        setRules((rules: Rules) => {\n          rules.excluded = val\n          return rules\n        })\n      }\n    },\n  ]);\n\n  return (\n    <div className=\"App bg-gray-50 p-20 h-screen\">\n      <div className=\"container m-auto flex flex-row\">\n          <div className=\"rounded-lg p-6 w-full bg-gray-200\">\n            { step < steps.length ?\n                <div>\n                  <h3 className=\"font-bold text-md\">Guessing your username ({step + 1}/{steps.length})</h3>\n                  {steps[step].question}\n                  <div className=\"flex flex-col\">\n                    <button onClick={handleYes} className=\"rounded-md w-full my-2 p-2 bg-green-700 text-white\">Yes</button>\n                    <button onClick={handleIdk} className=\"rounded-md w-full my-2 p-2 bg-yellow-600 text-white\">I don't know</button>\n                    <button onClick={handleNo} className=\"rounded-md w-full my-2 p-2 bg-red-700 text-white\">No</button>\n                  </div>\n                </div> :\n                <div>\n                  <h3 className=\"font-bold text-md\">Your username is...</h3>\n                  <p className=\"font-semibold text-xl\">{username}</p>\n                  <p>Is it right?</p>\n                  <button className=\"rounded-md w-full my-2 p-2 bg-green-700 text-white\">Yes</button>\n                  <button onClick={() => window.location.href = \"\"} className=\"rounded-md w-full my-2 p-2 bg-red-700 text-white\">No</button>\n                </div>\n            }\n          </div>\n          <div className=\"rounded-lg p-6 w-full bg-gray-200 ml-3\">\n            <h3 className=\"font-bold text-md\">Log in</h3>\n            <form id=\"fakeForm\">\n              <label className=\"text-semibold block text-left\" htmlFor=\"username\">Username</label>\n              <input className=\"w-full rounded-lg bg-gray-50 p-1 mb-2\" id=\"username\" type=\"text\" value={username} readOnly={true}></input>\n              <label className=\"text-semibold block text-left\" htmlFor=\"password\">Password</label>\n              <input className=\"w-full rounded-lg bg-gray-50 p-1 mb-6\" id=\"password\" type=\"password\"></input>\n              <button className=\"rounded rounded-lg bg-blue-400 text-white w-full p-2\">Log in</button>\n            </form>\n          </div>\n        </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}